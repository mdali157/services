{% extends 'base_template.html' %}
{% load static %}

{% block head %}
<link href="{% static 'css/receiving-styles.css' %}" rel="stylesheet" type="text/css" id="app-stylesheet"/>
{% endblock %}

{% block content %}
<div class="container-fluid mb-3 pt-3">

    <table id="casting_table" class="table table-striped table-bordered">
        <thead>
        <tr>
            <th>S.No</th>
            <th>Casting No</th>
            <th>Customer</th>
            <th>Flask No</th>
            <th>Weight</th>
            <th>Total 24K</th>
            <th>Gold Received</th>
            <th>Service Charges</th>
            <th>Cash Received</th>
            <th>Created At</th>
        </tr>
        </thead>
        <tbody>
        {% for casting in castings_with_flask %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ casting.casting_no }}</td>
                <td>{{ casting.customer.name }}</td>
                <td>{{ casting.flask.id }}</td>
                <td>{{ casting.weight }}</td>
                <td>{{ casting.total_weight24k }}</td>
                <td>{{ casting.gold_received }}</td>
                <td>{{ casting.service_charges_amount }}</td>
                <td>{{ casting.cash_received }}</td>
                <td>{{ casting.created_at|date:"Y-m-d" }}</td>
            </tr>
        {% empty %}
            <tr>
                <td colspan="13" class="text-center">No castings found.</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}

{% block scripts %}
<script>
  document.addEventListener('DOMContentLoaded', function () {
    $('#casting_table').DataTable({
      responsive: true,
      pageLength: 10,
      lengthChange: true,
      autoWidth: false
    });
  });
</script>
{% endblock %}
