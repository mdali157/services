<!DOCTYPE html>
<html>
<head>
    <title>Casting Charges Slip</title>
    <style>
        body {
            font-family: monospace;
            font-size: 14px;
            margin: 0;
            padding: 0;
            width: 78mm;
        }

        .slip {
            width: 100%;
            padding: 5mm;
            box-sizing: border-box;
        }

        .center {
            text-align: center;
        }

        .field-label {
            font-weight: bold;
        }

        @media print {
            body, html {
                margin: 0;
                padding: 0;
                width: 78mm;
                height: auto;
            }

            .slip {
                padding: 0;
                margin: 0;
                box-sizing: border-box;
            }

            button {
                display: none;
            }
        }
    </style>
</head>
<body onload="delayedPrint()">
    <div class="slip">
        <div class="center">
            <h3>Delivery-Services</h3>
        </div>
        <hr>
        <p><span class="field-label">Slip No:</span> {{ casting.casting_no}}</p>
        <p><span class="field-label">Date:</span> {{ casting.created_at|date:"Y-m-d" }}</p>
        <p><span class="field-label">Client Name:</span> {{ casting.customer.name}}</p>
        <p><span class="field-label">Karate:</span> {{ casting.karate }}</p>
        <p><span class="field-label">Color:</span> {{ casting.color }}</p>
        <p><span class="field-label">Weight:</span> {{ casting.weight }}</p>
        <p><span class="field-label">Wastage:</span> {{ casting.wastage_weight }}</p>
        <p><span class="field-label">Total Weight 24K:</span> {{ casting.total_weight24k }}</p>
        <p><span class="field-label">Charges Rate:</span> {{ casting.service_charges_rate }}</p>
        <p><span class="field-label">Charges Amount:</span> {{ casting.service_charges_amount }}</p>
    </div>

    <div class="center">
        <button onclick="window.print()">Print Again</button>
    </div>

    <script>
        function delayedPrint() {
            setTimeout(() => {
                window.print();
            }, 300); // slight delay to allow rendering
        }
    </script>
</body>
</html>
